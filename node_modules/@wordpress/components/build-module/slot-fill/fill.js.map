{"version":3,"names":["useContext","useLayoutEffect","useRef","SlotFillContext","useSlot","Fill","name","children","registerFill","unregisterFill","slot","ref","refValue","current","forceUpdate"],"sources":["@wordpress/components/src/slot-fill/fill.js"],"sourcesContent":["// @ts-nocheck\n\n/**\n * WordPress dependencies\n */\nimport { useContext, useLayoutEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport SlotFillContext from './context';\nimport useSlot from './use-slot';\n\nexport default function Fill( { name, children } ) {\n\tconst { registerFill, unregisterFill } = useContext( SlotFillContext );\n\tconst slot = useSlot( name );\n\n\tconst ref = useRef( {\n\t\tname,\n\t\tchildren,\n\t} );\n\n\tuseLayoutEffect( () => {\n\t\tconst refValue = ref.current;\n\t\tregisterFill( name, refValue );\n\t\treturn () => unregisterFill( name, refValue );\n\t\t// Ignore reason: the useLayoutEffects here are written to fire at specific times, and introducing new dependencies could cause unexpected changes in behavior.\n\t\t// We'll leave them as-is until a more detailed investigation/refactor can be performed.\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [] );\n\n\tuseLayoutEffect( () => {\n\t\tref.current.children = children;\n\t\tif ( slot ) {\n\t\t\tslot.forceUpdate();\n\t\t}\n\t\t// Ignore reason: the useLayoutEffects here are written to fire at specific times, and introducing new dependencies could cause unexpected changes in behavior.\n\t\t// We'll leave them as-is until a more detailed investigation/refactor can be performed.\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [ children ] );\n\n\tuseLayoutEffect( () => {\n\t\tif ( name === ref.current.name ) {\n\t\t\t// Ignore initial effect.\n\t\t\treturn;\n\t\t}\n\t\tunregisterFill( ref.current.name, ref.current );\n\t\tref.current.name = name;\n\t\tregisterFill( name, ref.current );\n\t\t// Ignore reason: the useLayoutEffects here are written to fire at specific times, and introducing new dependencies could cause unexpected changes in behavior.\n\t\t// We'll leave them as-is until a more detailed investigation/refactor can be performed.\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [ name ] );\n\n\treturn null;\n}\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA,SAASA,UAAU,EAAEC,eAAe,EAAEC,MAAM,QAAQ,oBAAoB;;AAExE;AACA;AACA;AACA,OAAOC,eAAe,MAAM,WAAW;AACvC,OAAOC,OAAO,MAAM,YAAY;AAEhC,eAAe,SAASC,IAAIA,CAAE;EAAEC,IAAI;EAAEC;AAAS,CAAC,EAAG;EAClD,MAAM;IAAEC,YAAY;IAAEC;EAAe,CAAC,GAAGT,UAAU,CAAEG,eAAgB,CAAC;EACtE,MAAMO,IAAI,GAAGN,OAAO,CAAEE,IAAK,CAAC;EAE5B,MAAMK,GAAG,GAAGT,MAAM,CAAE;IACnBI,IAAI;IACJC;EACD,CAAE,CAAC;EAEHN,eAAe,CAAE,MAAM;IACtB,MAAMW,QAAQ,GAAGD,GAAG,CAACE,OAAO;IAC5BL,YAAY,CAAEF,IAAI,EAAEM,QAAS,CAAC;IAC9B,OAAO,MAAMH,cAAc,CAAEH,IAAI,EAAEM,QAAS,CAAC;IAC7C;IACA;IACA;EACD,CAAC,EAAE,EAAG,CAAC;EAEPX,eAAe,CAAE,MAAM;IACtBU,GAAG,CAACE,OAAO,CAACN,QAAQ,GAAGA,QAAQ;IAC/B,IAAKG,IAAI,EAAG;MACXA,IAAI,CAACI,WAAW,CAAC,CAAC;IACnB;IACA;IACA;IACA;EACD,CAAC,EAAE,CAAEP,QAAQ,CAAG,CAAC;EAEjBN,eAAe,CAAE,MAAM;IACtB,IAAKK,IAAI,KAAKK,GAAG,CAACE,OAAO,CAACP,IAAI,EAAG;MAChC;MACA;IACD;IACAG,cAAc,CAAEE,GAAG,CAACE,OAAO,CAACP,IAAI,EAAEK,GAAG,CAACE,OAAQ,CAAC;IAC/CF,GAAG,CAACE,OAAO,CAACP,IAAI,GAAGA,IAAI;IACvBE,YAAY,CAAEF,IAAI,EAAEK,GAAG,CAACE,OAAQ,CAAC;IACjC;IACA;IACA;EACD,CAAC,EAAE,CAAEP,IAAI,CAAG,CAAC;EAEb,OAAO,IAAI;AACZ"}