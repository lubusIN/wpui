{"version":3,"names":["addQueryArgs","hasQueryArg","createThemePreviewMiddleware","themePath","options","next","url","wp_theme_preview","path"],"sources":["@wordpress/api-fetch/src/middlewares/theme-preview.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { addQueryArgs, hasQueryArg } from '@wordpress/url';\n\n/**\n * This appends a `wp_theme_preview` parameter to the REST API request URL if\n * the admin URL contains a `theme` GET parameter.\n *\n * @param {Record<string, any>} themePath\n * @return {import('../types').APIFetchMiddleware} Preloading middleware.\n */\nconst createThemePreviewMiddleware = ( themePath ) => ( options, next ) => {\n\tif (\n\t\ttypeof options.url === 'string' &&\n\t\t! hasQueryArg( options.url, 'wp_theme_preview' )\n\t) {\n\t\toptions.url = addQueryArgs( options.url, {\n\t\t\twp_theme_preview: themePath,\n\t\t} );\n\t}\n\n\tif (\n\t\ttypeof options.path === 'string' &&\n\t\t! hasQueryArg( options.path, 'wp_theme_preview' )\n\t) {\n\t\toptions.path = addQueryArgs( options.path, {\n\t\t\twp_theme_preview: themePath,\n\t\t} );\n\t}\n\n\treturn next( options );\n};\n\nexport default createThemePreviewMiddleware;\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAY,EAAEC,WAAW,QAAQ,gBAAgB;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,4BAA4B,GAAKC,SAAS,IAAM,CAAEC,OAAO,EAAEC,IAAI,KAAM;EAC1E,IACC,OAAOD,OAAO,CAACE,GAAG,KAAK,QAAQ,IAC/B,CAAEL,WAAW,CAAEG,OAAO,CAACE,GAAG,EAAE,kBAAmB,CAAC,EAC/C;IACDF,OAAO,CAACE,GAAG,GAAGN,YAAY,CAAEI,OAAO,CAACE,GAAG,EAAE;MACxCC,gBAAgB,EAAEJ;IACnB,CAAE,CAAC;EACJ;EAEA,IACC,OAAOC,OAAO,CAACI,IAAI,KAAK,QAAQ,IAChC,CAAEP,WAAW,CAAEG,OAAO,CAACI,IAAI,EAAE,kBAAmB,CAAC,EAChD;IACDJ,OAAO,CAACI,IAAI,GAAGR,YAAY,CAAEI,OAAO,CAACI,IAAI,EAAE;MAC1CD,gBAAgB,EAAEJ;IACnB,CAAE,CAAC;EACJ;EAEA,OAAOE,IAAI,CAAED,OAAQ,CAAC;AACvB,CAAC;AAED,eAAeF,4BAA4B"}