{"version":3,"names":["ActionSheetIOS","__","Component","forwardRef","useContext","useDispatch","useSelect","BottomSheetContext","usePreferredColorScheme","styles","Picker","presentPicker","options","onChange","title","destructiveButtonIndex","disabledButtonIndices","getAnchor","isBottomSheetOpened","closeBottomSheet","onHandleClosingBottomSheet","colorScheme","props","labels","map","label","fullOptions","concat","buttonTitleColor","color","showActionSheetWithOptions","cancelButtonIndex","anchor","tintColor","buttonIndex","selected","requiresModal","value","render","PickerComponent","ref","select","isEditorSidebarOpened","closeGeneralSidebar","createElement"],"sources":["@wordpress/components/src/mobile/picker/index.ios.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { ActionSheetIOS } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, forwardRef, useContext } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { BottomSheetContext } from '@wordpress/components';\nimport { usePreferredColorScheme } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\n\nclass Picker extends Component {\n\tpresentPicker() {\n\t\tconst {\n\t\t\toptions,\n\t\t\tonChange,\n\t\t\ttitle,\n\t\t\tdestructiveButtonIndex,\n\t\t\tdisabledButtonIndices,\n\t\t\tgetAnchor,\n\t\t\tisBottomSheetOpened,\n\t\t\tcloseBottomSheet,\n\t\t\tonHandleClosingBottomSheet,\n\t\t\tcolorScheme,\n\t\t} = this.props;\n\t\tconst labels = options.map( ( { label } ) => label );\n\t\tconst fullOptions = [ __( 'Cancel' ) ].concat( labels );\n\n\t\tconst buttonTitleColor =\n\t\t\tcolorScheme === 'light'\n\t\t\t\t? styles[ 'components-picker__button-title' ].color\n\t\t\t\t: styles[ 'components-picker__button-title--dark' ].color;\n\n\t\tActionSheetIOS.showActionSheetWithOptions(\n\t\t\t{\n\t\t\t\ttitle,\n\t\t\t\toptions: fullOptions,\n\t\t\t\tcancelButtonIndex: 0,\n\t\t\t\tdestructiveButtonIndex,\n\t\t\t\tdisabledButtonIndices,\n\t\t\t\tanchor: getAnchor && getAnchor(),\n\t\t\t\ttintColor: buttonTitleColor,\n\t\t\t},\n\t\t\t( buttonIndex ) => {\n\t\t\t\tif ( buttonIndex === 0 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst selected = options[ buttonIndex - 1 ];\n\n\t\t\t\tif ( selected.requiresModal && isBottomSheetOpened ) {\n\t\t\t\t\tonHandleClosingBottomSheet( () => {\n\t\t\t\t\t\tonChange( selected.value );\n\t\t\t\t\t} );\n\t\t\t\t\tcloseBottomSheet();\n\t\t\t\t} else {\n\t\t\t\t\tonChange( selected.value );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\nconst PickerComponent = forwardRef( ( props, ref ) => {\n\tconst isBottomSheetOpened = useSelect( ( select ) =>\n\t\tselect( 'core/edit-post' ).isEditorSidebarOpened()\n\t);\n\tconst { closeGeneralSidebar } = useDispatch( 'core/edit-post' );\n\tconst { onHandleClosingBottomSheet } = useContext( BottomSheetContext );\n\n\tconst colorScheme = usePreferredColorScheme();\n\n\treturn (\n\t\t<Picker\n\t\t\tref={ ref }\n\t\t\t{ ...props }\n\t\t\tisBottomSheetOpened={ isBottomSheetOpened }\n\t\t\tcloseBottomSheet={ closeGeneralSidebar }\n\t\t\tonHandleClosingBottomSheet={ onHandleClosingBottomSheet }\n\t\t\tcolorScheme={ colorScheme }\n\t\t/>\n\t);\n} );\n\nexport default PickerComponent;\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,cAAc,QAAQ,cAAc;;AAE7C;AACA;AACA;AACA,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,SAAS,EAAEC,UAAU,EAAEC,UAAU,QAAQ,oBAAoB;AACtE,SAASC,WAAW,EAAEC,SAAS,QAAQ,iBAAiB;AACxD,SAASC,kBAAkB,QAAQ,uBAAuB;AAC1D,SAASC,uBAAuB,QAAQ,oBAAoB;;AAE5D;AACA;AACA;AACA,OAAOC,MAAM,MAAM,eAAe;AAElC,MAAMC,MAAM,SAASR,SAAS,CAAC;EAC9BS,aAAaA,CAAA,EAAG;IACf,MAAM;MACLC,OAAO;MACPC,QAAQ;MACRC,KAAK;MACLC,sBAAsB;MACtBC,qBAAqB;MACrBC,SAAS;MACTC,mBAAmB;MACnBC,gBAAgB;MAChBC,0BAA0B;MAC1BC;IACD,CAAC,GAAG,IAAI,CAACC,KAAK;IACd,MAAMC,MAAM,GAAGX,OAAO,CAACY,GAAG,CAAE,CAAE;MAAEC;IAAM,CAAC,KAAMA,KAAM,CAAC;IACpD,MAAMC,WAAW,GAAG,CAAEzB,EAAE,CAAE,QAAS,CAAC,CAAE,CAAC0B,MAAM,CAAEJ,MAAO,CAAC;IAEvD,MAAMK,gBAAgB,GACrBP,WAAW,KAAK,OAAO,GACpBZ,MAAM,CAAE,iCAAiC,CAAE,CAACoB,KAAK,GACjDpB,MAAM,CAAE,uCAAuC,CAAE,CAACoB,KAAK;IAE3D7B,cAAc,CAAC8B,0BAA0B,CACxC;MACChB,KAAK;MACLF,OAAO,EAAEc,WAAW;MACpBK,iBAAiB,EAAE,CAAC;MACpBhB,sBAAsB;MACtBC,qBAAqB;MACrBgB,MAAM,EAAEf,SAAS,IAAIA,SAAS,CAAC,CAAC;MAChCgB,SAAS,EAAEL;IACZ,CAAC,EACCM,WAAW,IAAM;MAClB,IAAKA,WAAW,KAAK,CAAC,EAAG;QACxB;MACD;MACA,MAAMC,QAAQ,GAAGvB,OAAO,CAAEsB,WAAW,GAAG,CAAC,CAAE;MAE3C,IAAKC,QAAQ,CAACC,aAAa,IAAIlB,mBAAmB,EAAG;QACpDE,0BAA0B,CAAE,MAAM;UACjCP,QAAQ,CAAEsB,QAAQ,CAACE,KAAM,CAAC;QAC3B,CAAE,CAAC;QACHlB,gBAAgB,CAAC,CAAC;MACnB,CAAC,MAAM;QACNN,QAAQ,CAAEsB,QAAQ,CAACE,KAAM,CAAC;MAC3B;IACD,CACD,CAAC;EACF;EAEAC,MAAMA,CAAA,EAAG;IACR,OAAO,IAAI;EACZ;AACD;AAEA,MAAMC,eAAe,GAAGpC,UAAU,CAAE,CAAEmB,KAAK,EAAEkB,GAAG,KAAM;EACrD,MAAMtB,mBAAmB,GAAGZ,SAAS,CAAImC,MAAM,IAC9CA,MAAM,CAAE,gBAAiB,CAAC,CAACC,qBAAqB,CAAC,CAClD,CAAC;EACD,MAAM;IAAEC;EAAoB,CAAC,GAAGtC,WAAW,CAAE,gBAAiB,CAAC;EAC/D,MAAM;IAAEe;EAA2B,CAAC,GAAGhB,UAAU,CAAEG,kBAAmB,CAAC;EAEvE,MAAMc,WAAW,GAAGb,uBAAuB,CAAC,CAAC;EAE7C,OACCoC,aAAA,CAAClC,MAAM;IACN8B,GAAG,EAAGA,GAAK;IAAA,GACNlB,KAAK;IACVJ,mBAAmB,EAAGA,mBAAqB;IAC3CC,gBAAgB,EAAGwB,mBAAqB;IACxCvB,0BAA0B,EAAGA,0BAA4B;IACzDC,WAAW,EAAGA;EAAa,CAC3B,CAAC;AAEJ,CAAE,CAAC;AAEH,eAAekB,eAAe"}