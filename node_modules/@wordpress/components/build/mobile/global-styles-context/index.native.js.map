{"version":3,"names":["_element","require","_utils","GlobalStylesContext","createContext","style","BLOCK_STYLE_ATTRIBUTES","getMergedGlobalStyles","baseGlobalStyles","globalStyle","wrapperPropsStyle","blockAttributes","defaultColors","blockName","fontSizes","baseGlobalColors","baseColors","color","typography","elements","link","blocks","blockStyleAttributes","Object","fromEntries","entries","filter","key","includes","wrapperPropsStyleFiltered","mergedStyle","blockColors","getBlockColors","blockPaddings","getBlockPaddings","blockTypography","getBlockTypography","exports","useGlobalStyles","globalStyles","useContext","withGlobalStyles","WrappedComponent","props","createElement","Consumer","_default","default"],"sources":["@wordpress/components/src/mobile/global-styles-context/index.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createContext, useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport {\n\tBLOCK_STYLE_ATTRIBUTES,\n\tgetBlockPaddings,\n\tgetBlockColors,\n\tgetBlockTypography,\n} from './utils';\n\nconst GlobalStylesContext = createContext( { style: {} } );\n\nGlobalStylesContext.BLOCK_STYLE_ATTRIBUTES = BLOCK_STYLE_ATTRIBUTES;\n\nexport const getMergedGlobalStyles = (\n\tbaseGlobalStyles,\n\tglobalStyle,\n\twrapperPropsStyle,\n\tblockAttributes,\n\tdefaultColors,\n\tblockName,\n\tfontSizes\n) => {\n\t// Current support for general styles and blocks.\n\tconst baseGlobalColors = {\n\t\tbaseColors: {\n\t\t\tcolor: baseGlobalStyles?.color,\n\t\t\ttypography: baseGlobalStyles?.typography,\n\t\t\telements: {\n\t\t\t\tlink: baseGlobalStyles?.elements?.link,\n\t\t\t},\n\t\t\tblocks: {\n\t\t\t\t'core/button': baseGlobalStyles?.blocks?.[ 'core/button' ],\n\t\t\t},\n\t\t},\n\t};\n\n\tconst blockStyleAttributes = Object.fromEntries(\n\t\tObject.entries( blockAttributes ?? {} ).filter( ( [ key ] ) =>\n\t\t\tBLOCK_STYLE_ATTRIBUTES.includes( key )\n\t\t)\n\t);\n\n\t// This prevents certain wrapper styles from being applied to blocks that\n\t// don't support them yet.\n\tconst wrapperPropsStyleFiltered = Object.fromEntries(\n\t\tObject.entries( wrapperPropsStyle ?? {} ).filter( ( [ key ] ) =>\n\t\t\tBLOCK_STYLE_ATTRIBUTES.includes( key )\n\t\t)\n\t);\n\n\tconst mergedStyle = {\n\t\t...baseGlobalColors,\n\t\t...globalStyle,\n\t\t...wrapperPropsStyleFiltered,\n\t};\n\tconst blockColors = getBlockColors(\n\t\tblockStyleAttributes,\n\t\tdefaultColors,\n\t\tblockName,\n\t\tbaseGlobalStyles\n\t);\n\tconst blockPaddings = getBlockPaddings(\n\t\tmergedStyle,\n\t\twrapperPropsStyle,\n\t\tblockStyleAttributes,\n\t\tblockColors\n\t);\n\tconst blockTypography = getBlockTypography(\n\t\tblockStyleAttributes,\n\t\tfontSizes,\n\t\tblockName,\n\t\tbaseGlobalStyles\n\t);\n\n\treturn {\n\t\t...mergedStyle,\n\t\t...blockPaddings,\n\t\t...blockColors,\n\t\t...blockTypography,\n\t};\n};\n\nexport const useGlobalStyles = () => {\n\tconst globalStyles = useContext( GlobalStylesContext );\n\n\treturn globalStyles;\n};\n\nexport const withGlobalStyles = ( WrappedComponent ) => ( props ) => (\n\t<GlobalStylesContext.Consumer>\n\t\t{ ( globalStyles ) => (\n\t\t\t<WrappedComponent { ...props } globalStyles={ globalStyles } />\n\t\t) }\n\t</GlobalStylesContext.Consumer>\n);\n\nexport default GlobalStylesContext;\n"],"mappings":";;;;;;AAGA,IAAAA,QAAA,GAAAC,OAAA;AAKA,IAAAC,MAAA,GAAAD,OAAA;AARA;AACA;AACA;;AAGA;AACA;AACA;;AAQA,MAAME,mBAAmB,GAAG,IAAAC,sBAAa,EAAE;EAAEC,KAAK,EAAE,CAAC;AAAE,CAAE,CAAC;AAE1DF,mBAAmB,CAACG,sBAAsB,GAAGA,6BAAsB;AAE5D,MAAMC,qBAAqB,GAAGA,CACpCC,gBAAgB,EAChBC,WAAW,EACXC,iBAAiB,EACjBC,eAAe,EACfC,aAAa,EACbC,SAAS,EACTC,SAAS,KACL;EACJ;EACA,MAAMC,gBAAgB,GAAG;IACxBC,UAAU,EAAE;MACXC,KAAK,EAAET,gBAAgB,EAAES,KAAK;MAC9BC,UAAU,EAAEV,gBAAgB,EAAEU,UAAU;MACxCC,QAAQ,EAAE;QACTC,IAAI,EAAEZ,gBAAgB,EAAEW,QAAQ,EAAEC;MACnC,CAAC;MACDC,MAAM,EAAE;QACP,aAAa,EAAEb,gBAAgB,EAAEa,MAAM,GAAI,aAAa;MACzD;IACD;EACD,CAAC;EAED,MAAMC,oBAAoB,GAAGC,MAAM,CAACC,WAAW,CAC9CD,MAAM,CAACE,OAAO,CAAEd,eAAe,aAAfA,eAAe,cAAfA,eAAe,GAAI,CAAC,CAAE,CAAC,CAACe,MAAM,CAAE,CAAE,CAAEC,GAAG,CAAE,KACxDrB,6BAAsB,CAACsB,QAAQ,CAAED,GAAI,CACtC,CACD,CAAC;;EAED;EACA;EACA,MAAME,yBAAyB,GAAGN,MAAM,CAACC,WAAW,CACnDD,MAAM,CAACE,OAAO,CAAEf,iBAAiB,aAAjBA,iBAAiB,cAAjBA,iBAAiB,GAAI,CAAC,CAAE,CAAC,CAACgB,MAAM,CAAE,CAAE,CAAEC,GAAG,CAAE,KAC1DrB,6BAAsB,CAACsB,QAAQ,CAAED,GAAI,CACtC,CACD,CAAC;EAED,MAAMG,WAAW,GAAG;IACnB,GAAGf,gBAAgB;IACnB,GAAGN,WAAW;IACd,GAAGoB;EACJ,CAAC;EACD,MAAME,WAAW,GAAG,IAAAC,qBAAc,EACjCV,oBAAoB,EACpBV,aAAa,EACbC,SAAS,EACTL,gBACD,CAAC;EACD,MAAMyB,aAAa,GAAG,IAAAC,uBAAgB,EACrCJ,WAAW,EACXpB,iBAAiB,EACjBY,oBAAoB,EACpBS,WACD,CAAC;EACD,MAAMI,eAAe,GAAG,IAAAC,yBAAkB,EACzCd,oBAAoB,EACpBR,SAAS,EACTD,SAAS,EACTL,gBACD,CAAC;EAED,OAAO;IACN,GAAGsB,WAAW;IACd,GAAGG,aAAa;IAChB,GAAGF,WAAW;IACd,GAAGI;EACJ,CAAC;AACF,CAAC;AAACE,OAAA,CAAA9B,qBAAA,GAAAA,qBAAA;AAEK,MAAM+B,eAAe,GAAGA,CAAA,KAAM;EACpC,MAAMC,YAAY,GAAG,IAAAC,mBAAU,EAAErC,mBAAoB,CAAC;EAEtD,OAAOoC,YAAY;AACpB,CAAC;AAACF,OAAA,CAAAC,eAAA,GAAAA,eAAA;AAEK,MAAMG,gBAAgB,GAAKC,gBAAgB,IAAQC,KAAK,IAC9D,IAAA3C,QAAA,CAAA4C,aAAA,EAACzC,mBAAmB,CAAC0C,QAAQ,QACxBN,YAAY,IACf,IAAAvC,QAAA,CAAA4C,aAAA,EAACF,gBAAgB;EAAA,GAAMC,KAAK;EAAGJ,YAAY,EAAGA;AAAc,CAAE,CAElC,CAC9B;AAACF,OAAA,CAAAI,gBAAA,GAAAA,gBAAA;AAAA,IAAAK,QAAA,GAEa3C,mBAAmB;AAAAkC,OAAA,CAAAU,OAAA,GAAAD,QAAA"}