{"version":3,"names":["getFocalPointOffset","imageRatio","container","imageSize","focusPoint","containerCenter","Math","floor","scaledImage","focus","focusOffset","offsetRest","containerRest","getImageWithFocalPointStyles","focalPoint","containerSize","originalImageData","imageStyle","horizontalOffset","verticalOffset","widthRatio","width","heightRatio","height","resizeMode","x","undefined","left","y","top"],"sources":["@wordpress/components/src/mobile/image/utils/index.native.js"],"sourcesContent":["function getFocalPointOffset( imageRatio, container, imageSize, focusPoint ) {\n\tconst containerCenter = Math.floor( container / 2 );\n\tconst scaledImage = Math.floor( imageSize / imageRatio );\n\tconst focus = Math.floor( focusPoint * scaledImage );\n\tlet focusOffset = focus - containerCenter;\n\tconst offsetRest = scaledImage - focus;\n\tconst containerRest = container - containerCenter;\n\n\tif ( offsetRest < containerRest ) {\n\t\tfocusOffset -= containerRest - offsetRest;\n\t}\n\n\tif ( focusOffset < 0 ) {\n\t\tfocusOffset = 0;\n\t}\n\n\treturn -focusOffset;\n}\n\nexport function getImageWithFocalPointStyles(\n\tfocalPoint,\n\tcontainerSize,\n\toriginalImageData\n) {\n\tconst imageStyle = {};\n\tif ( focalPoint && containerSize && originalImageData ) {\n\t\tlet horizontalOffset = 0;\n\t\tlet verticalOffset = 0;\n\t\tconst widthRatio = originalImageData.width / containerSize.width;\n\t\tconst heightRatio = originalImageData.height / containerSize.height;\n\n\t\timageStyle.resizeMode = 'stretch';\n\n\t\tif ( widthRatio > heightRatio ) {\n\t\t\thorizontalOffset = getFocalPointOffset(\n\t\t\t\theightRatio,\n\t\t\t\tcontainerSize.width,\n\t\t\t\toriginalImageData.width,\n\t\t\t\tfocalPoint.x\n\t\t\t);\n\t\t\timageStyle.width = undefined;\n\t\t\timageStyle.left = horizontalOffset;\n\t\t} else if ( widthRatio < heightRatio ) {\n\t\t\tverticalOffset = getFocalPointOffset(\n\t\t\t\twidthRatio,\n\t\t\t\tcontainerSize.height,\n\t\t\t\toriginalImageData.height,\n\t\t\t\tfocalPoint.y\n\t\t\t);\n\t\t\timageStyle.height = undefined;\n\t\t\timageStyle.top = verticalOffset;\n\t\t}\n\n\t\treturn imageStyle;\n\t}\n\n\treturn imageStyle;\n}\n"],"mappings":";;;;;;AAAA,SAASA,mBAAmBA,CAAEC,UAAU,EAAEC,SAAS,EAAEC,SAAS,EAAEC,UAAU,EAAG;EAC5E,MAAMC,eAAe,GAAGC,IAAI,CAACC,KAAK,CAAEL,SAAS,GAAG,CAAE,CAAC;EACnD,MAAMM,WAAW,GAAGF,IAAI,CAACC,KAAK,CAAEJ,SAAS,GAAGF,UAAW,CAAC;EACxD,MAAMQ,KAAK,GAAGH,IAAI,CAACC,KAAK,CAAEH,UAAU,GAAGI,WAAY,CAAC;EACpD,IAAIE,WAAW,GAAGD,KAAK,GAAGJ,eAAe;EACzC,MAAMM,UAAU,GAAGH,WAAW,GAAGC,KAAK;EACtC,MAAMG,aAAa,GAAGV,SAAS,GAAGG,eAAe;EAEjD,IAAKM,UAAU,GAAGC,aAAa,EAAG;IACjCF,WAAW,IAAIE,aAAa,GAAGD,UAAU;EAC1C;EAEA,IAAKD,WAAW,GAAG,CAAC,EAAG;IACtBA,WAAW,GAAG,CAAC;EAChB;EAEA,OAAO,CAACA,WAAW;AACpB;AAEO,SAASG,4BAA4BA,CAC3CC,UAAU,EACVC,aAAa,EACbC,iBAAiB,EAChB;EACD,MAAMC,UAAU,GAAG,CAAC,CAAC;EACrB,IAAKH,UAAU,IAAIC,aAAa,IAAIC,iBAAiB,EAAG;IACvD,IAAIE,gBAAgB,GAAG,CAAC;IACxB,IAAIC,cAAc,GAAG,CAAC;IACtB,MAAMC,UAAU,GAAGJ,iBAAiB,CAACK,KAAK,GAAGN,aAAa,CAACM,KAAK;IAChE,MAAMC,WAAW,GAAGN,iBAAiB,CAACO,MAAM,GAAGR,aAAa,CAACQ,MAAM;IAEnEN,UAAU,CAACO,UAAU,GAAG,SAAS;IAEjC,IAAKJ,UAAU,GAAGE,WAAW,EAAG;MAC/BJ,gBAAgB,GAAGlB,mBAAmB,CACrCsB,WAAW,EACXP,aAAa,CAACM,KAAK,EACnBL,iBAAiB,CAACK,KAAK,EACvBP,UAAU,CAACW,CACZ,CAAC;MACDR,UAAU,CAACI,KAAK,GAAGK,SAAS;MAC5BT,UAAU,CAACU,IAAI,GAAGT,gBAAgB;IACnC,CAAC,MAAM,IAAKE,UAAU,GAAGE,WAAW,EAAG;MACtCH,cAAc,GAAGnB,mBAAmB,CACnCoB,UAAU,EACVL,aAAa,CAACQ,MAAM,EACpBP,iBAAiB,CAACO,MAAM,EACxBT,UAAU,CAACc,CACZ,CAAC;MACDX,UAAU,CAACM,MAAM,GAAGG,SAAS;MAC7BT,UAAU,CAACY,GAAG,GAAGV,cAAc;IAChC;IAEA,OAAOF,UAAU;EAClB;EAEA,OAAOA,UAAU;AAClB"}