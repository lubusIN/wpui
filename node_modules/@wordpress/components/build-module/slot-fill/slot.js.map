{"version":3,"names":["Children","Component","cloneElement","isEmptyElement","SlotFillContext","isFunction","maybeFunc","SlotComponent","constructor","arguments","isUnmounted","componentDidMount","registerSlot","props","name","componentWillUnmount","unregisterSlot","componentDidUpdate","prevProps","forceUpdate","render","_getFills","children","fillProps","getFills","fills","map","fill","fillChildren","child","childIndex","childKey","key","filter","element","createElement","Fragment","Slot","Consumer"],"sources":["@wordpress/components/src/slot-fill/slot.js"],"sourcesContent":["// @ts-nocheck\n/**\n * WordPress dependencies\n */\nimport {\n\tChildren,\n\tComponent,\n\tcloneElement,\n\tisEmptyElement,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport SlotFillContext from './context';\n\n/**\n * Whether the argument is a function.\n *\n * @param {*} maybeFunc The argument to check.\n * @return {boolean} True if the argument is a function, false otherwise.\n */\nfunction isFunction( maybeFunc ) {\n\treturn typeof maybeFunc === 'function';\n}\n\nclass SlotComponent extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.isUnmounted = false;\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { registerSlot } = this.props;\n\t\tthis.isUnmounted = false;\n\t\tregisterSlot( this.props.name, this );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tconst { unregisterSlot } = this.props;\n\t\tthis.isUnmounted = true;\n\t\tunregisterSlot( this.props.name, this );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst { name, unregisterSlot, registerSlot } = this.props;\n\n\t\tif ( prevProps.name !== name ) {\n\t\t\tunregisterSlot( prevProps.name );\n\t\t\tregisterSlot( name, this );\n\t\t}\n\t}\n\n\tforceUpdate() {\n\t\tif ( this.isUnmounted ) {\n\t\t\treturn;\n\t\t}\n\t\tsuper.forceUpdate();\n\t}\n\n\trender() {\n\t\tconst { children, name, fillProps = {}, getFills } = this.props;\n\n\t\tconst fills = ( getFills( name, this ) ?? [] )\n\t\t\t.map( ( fill ) => {\n\t\t\t\tconst fillChildren = isFunction( fill.children )\n\t\t\t\t\t? fill.children( fillProps )\n\t\t\t\t\t: fill.children;\n\n\t\t\t\treturn Children.map( fillChildren, ( child, childIndex ) => {\n\t\t\t\t\tif ( ! child || typeof child === 'string' ) {\n\t\t\t\t\t\treturn child;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst childKey = child.key || childIndex;\n\t\t\t\t\treturn cloneElement( child, { key: childKey } );\n\t\t\t\t} );\n\t\t\t} )\n\t\t\t.filter(\n\t\t\t\t// In some cases fills are rendered only when some conditions apply.\n\t\t\t\t// This ensures that we only use non-empty fills when rendering, i.e.,\n\t\t\t\t// it allows us to render wrappers only when the fills are actually present.\n\t\t\t\t( element ) => ! isEmptyElement( element )\n\t\t\t);\n\n\t\treturn <>{ isFunction( children ) ? children( fills ) : fills }</>;\n\t}\n}\n\nconst Slot = ( props ) => (\n\t<SlotFillContext.Consumer>\n\t\t{ ( { registerSlot, unregisterSlot, getFills } ) => (\n\t\t\t<SlotComponent\n\t\t\t\t{ ...props }\n\t\t\t\tregisterSlot={ registerSlot }\n\t\t\t\tunregisterSlot={ unregisterSlot }\n\t\t\t\tgetFills={ getFills }\n\t\t\t/>\n\t\t) }\n\t</SlotFillContext.Consumer>\n);\n\nexport default Slot;\n"],"mappings":"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"}