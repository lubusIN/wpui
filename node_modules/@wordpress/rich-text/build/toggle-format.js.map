{"version":3,"names":["_a11y","require","_i18n","_getActiveFormat","_removeFormat","_applyFormat","toggleFormat","value","format","getActiveFormat","type","title","speak","sprintf","__","removeFormat","applyFormat"],"sources":["@wordpress/rich-text/src/toggle-format.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\n\nimport { speak } from '@wordpress/a11y';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\n\nimport { getActiveFormat } from './get-active-format';\nimport { removeFormat } from './remove-format';\nimport { applyFormat } from './apply-format';\n\n/** @typedef {import('./types').RichTextValue} RichTextValue */\n/** @typedef {import('./types').RichTextFormat} RichTextFormat */\n\n/**\n * Toggles a format object to a Rich Text value at the current selection.\n *\n * @param {RichTextValue}  value  Value to modify.\n * @param {RichTextFormat} format Format to apply or remove.\n *\n * @return {RichTextValue} A new value with the format applied or removed.\n */\nexport function toggleFormat( value, format ) {\n\tif ( getActiveFormat( value, format.type ) ) {\n\t\t// For screen readers, will announce if formatting control is disabled.\n\t\tif ( format.title ) {\n\t\t\t// translators: %s: title of the formatting control\n\t\t\tspeak( sprintf( __( '%s removed.' ), format.title ), 'assertive' );\n\t\t}\n\t\treturn removeFormat( value, format.type );\n\t}\n\t// For screen readers, will announce if formatting control is enabled.\n\tif ( format.title ) {\n\t\t// translators: %s: title of the formatting control\n\t\tspeak( sprintf( __( '%s applied.' ), format.title ), 'assertive' );\n\t}\n\treturn applyFormat( value, format );\n}\n"],"mappings":";;;;;;AAIA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAMA,IAAAE,gBAAA,GAAAF,OAAA;AACA,IAAAG,aAAA,GAAAH,OAAA;AACA,IAAAI,YAAA,GAAAJ,OAAA;AAbA;AACA;AACA;;AAKA;AACA;AACA;;AAMA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASK,YAAYA,CAAEC,KAAK,EAAEC,MAAM,EAAG;EAC7C,IAAK,IAAAC,gCAAe,EAAEF,KAAK,EAAEC,MAAM,CAACE,IAAK,CAAC,EAAG;IAC5C;IACA,IAAKF,MAAM,CAACG,KAAK,EAAG;MACnB;MACA,IAAAC,WAAK,EAAE,IAAAC,aAAO,EAAE,IAAAC,QAAE,EAAE,aAAc,CAAC,EAAEN,MAAM,CAACG,KAAM,CAAC,EAAE,WAAY,CAAC;IACnE;IACA,OAAO,IAAAI,0BAAY,EAAER,KAAK,EAAEC,MAAM,CAACE,IAAK,CAAC;EAC1C;EACA;EACA,IAAKF,MAAM,CAACG,KAAK,EAAG;IACnB;IACA,IAAAC,WAAK,EAAE,IAAAC,aAAO,EAAE,IAAAC,QAAE,EAAE,aAAc,CAAC,EAAEN,MAAM,CAACG,KAAM,CAAC,EAAE,WAAY,CAAC;EACnE;EACA,OAAO,IAAAK,wBAAW,EAAET,KAAK,EAAEC,MAAO,CAAC;AACpC"}