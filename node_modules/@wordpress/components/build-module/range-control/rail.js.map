{"version":3,"names":["isRTL","RangeMark","MarksWrapper","Rail","RangeRail","props","disabled","marks","min","max","step","value","restProps","createElement","Fragment","Marks","stepProp","marksData","useMarks","className","map","mark","key","range","Array","isArray","count","Math","round","push","length","placedMarks","forEach","index","isFilled","offset","offsetStyle","style"],"sources":["@wordpress/components/src/range-control/rail.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport RangeMark from './mark';\nimport { MarksWrapper, Rail } from './styles/range-control-styles';\n\nimport type { WordPressComponentProps } from '../ui/context';\nimport type {\n\tMarksProps,\n\tRangeMarkProps,\n\tRailProps,\n\tUseMarksArgs,\n} from './types';\n\nexport default function RangeRail(\n\tprops: WordPressComponentProps< RailProps, 'span' >\n) {\n\tconst {\n\t\tdisabled = false,\n\t\tmarks = false,\n\t\tmin = 0,\n\t\tmax = 100,\n\t\tstep = 1,\n\t\tvalue = 0,\n\t\t...restProps\n\t} = props;\n\n\treturn (\n\t\t<>\n\t\t\t<Rail disabled={ disabled } { ...restProps } />\n\t\t\t{ marks && (\n\t\t\t\t<Marks\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tmarks={ marks }\n\t\t\t\t\tmin={ min }\n\t\t\t\t\tmax={ max }\n\t\t\t\t\tstep={ step }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction Marks( props: WordPressComponentProps< MarksProps, 'span' > ) {\n\tconst {\n\t\tdisabled = false,\n\t\tmarks = false,\n\t\tmin = 0,\n\t\tmax = 100,\n\t\tstep: stepProp = 1,\n\t\tvalue = 0,\n\t} = props;\n\n\tconst step = stepProp === 'any' ? 1 : stepProp;\n\tconst marksData = useMarks( { marks, min, max, step, value } );\n\n\treturn (\n\t\t<MarksWrapper\n\t\t\taria-hidden=\"true\"\n\t\t\tclassName=\"components-range-control__marks\"\n\t\t>\n\t\t\t{ marksData.map( ( mark ) => (\n\t\t\t\t<RangeMark\n\t\t\t\t\t{ ...mark }\n\t\t\t\t\tkey={ mark.key }\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</MarksWrapper>\n\t);\n}\n\nfunction useMarks( {\n\tmarks,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tvalue = 0,\n}: UseMarksArgs ) {\n\tif ( ! marks ) {\n\t\treturn [];\n\t}\n\n\tconst range = max - min;\n\tif ( ! Array.isArray( marks ) ) {\n\t\tmarks = [];\n\t\tconst count = 1 + Math.round( range / step );\n\t\twhile ( count > marks.push( { value: step * marks.length + min } ) );\n\t}\n\n\tconst placedMarks: RangeMarkProps[] = [];\n\tmarks.forEach( ( mark, index ) => {\n\t\tif ( mark.value < min || mark.value > max ) {\n\t\t\treturn;\n\t\t}\n\t\tconst key = `mark-${ index }`;\n\t\tconst isFilled = mark.value <= value;\n\t\tconst offset = `${ ( ( mark.value - min ) / range ) * 100 }%`;\n\n\t\tconst offsetStyle = {\n\t\t\t[ isRTL() ? 'right' : 'left' ]: offset,\n\t\t};\n\n\t\tplacedMarks.push( {\n\t\t\t...mark,\n\t\t\tisFilled,\n\t\t\tkey,\n\t\t\tstyle: offsetStyle,\n\t\t} );\n\t} );\n\n\treturn placedMarks;\n}\n"],"mappings":"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"}