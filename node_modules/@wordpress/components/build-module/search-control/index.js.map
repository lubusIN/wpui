{"version":3,"names":["classnames","useInstanceId","useMergeRefs","__","Icon","search","closeSmall","forwardRef","useRef","Button","BaseControl","UnforwardedSearchControl","__nextHasNoMarginBottom","__next40pxDefaultSize","className","onChange","onKeyDown","value","label","placeholder","hideLabelFromVision","help","onClose","size","restProps","forwardedRef","searchRef","instanceId","SearchControl","id","renderRightButton","createElement","icon","onClick","current","focus","ref","type","event","target","autoComplete"],"sources":["@wordpress/components/src/search-control/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId, useMergeRefs } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { Icon, search, closeSmall } from '@wordpress/icons';\nimport { forwardRef, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport BaseControl from '../base-control';\nimport type { WordPressComponentProps } from '../ui/context/wordpress-component';\nimport type { SearchControlProps } from './types';\nimport type { ForwardedRef } from 'react';\n\nfunction UnforwardedSearchControl(\n\t{\n\t\t__nextHasNoMarginBottom,\n\t\t__next40pxDefaultSize = false,\n\t\tclassName,\n\t\tonChange,\n\t\tonKeyDown,\n\t\tvalue,\n\t\tlabel,\n\t\tplaceholder = __( 'Search' ),\n\t\thideLabelFromVision = true,\n\t\thelp,\n\t\tonClose,\n\t\tsize = 'default',\n\t\t...restProps\n\t}: WordPressComponentProps< SearchControlProps, 'input', false >,\n\tforwardedRef: ForwardedRef< HTMLInputElement >\n) {\n\tconst searchRef = useRef< HTMLInputElement >();\n\tconst instanceId = useInstanceId( SearchControl );\n\tconst id = `components-search-control-${ instanceId }`;\n\n\tconst renderRightButton = () => {\n\t\tif ( onClose ) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize={ __next40pxDefaultSize }\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close search' ) }\n\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\tsize={ size }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tif ( !! value ) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize={ __next40pxDefaultSize }\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Reset search' ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( '' );\n\t\t\t\t\t\tsearchRef.current?.focus();\n\t\t\t\t\t} }\n\t\t\t\t\tsize={ size }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn <Icon icon={ search } />;\n\t};\n\n\treturn (\n\t\t<BaseControl\n\t\t\t__nextHasNoMarginBottom={ __nextHasNoMarginBottom }\n\t\t\tlabel={ label }\n\t\t\tid={ id }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\thelp={ help }\n\t\t\tclassName={ classnames( className, 'components-search-control', {\n\t\t\t\t'is-next-40px-default-size': __next40pxDefaultSize,\n\t\t\t\t'is-size-compact': size === 'compact',\n\t\t\t} ) }\n\t\t>\n\t\t\t<div className=\"components-search-control__input-wrapper\">\n\t\t\t\t<input\n\t\t\t\t\t{ ...restProps }\n\t\t\t\t\tref={ useMergeRefs( [ searchRef, forwardedRef ] ) }\n\t\t\t\t\tclassName=\"components-search-control__input\"\n\t\t\t\t\tid={ id }\n\t\t\t\t\ttype=\"search\"\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\tonChange={ ( event ) => onChange( event.target.value ) }\n\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t/>\n\t\t\t\t<div className=\"components-search-control__icon\">\n\t\t\t\t\t{ renderRightButton() }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BaseControl>\n\t);\n}\n\n/**\n * SearchControl components let users display a search control.\n *\n * ```jsx\n * import { SearchControl } from '@wordpress/components';\n * import { useState } from '@wordpress/element';\n *\n * function MySearchControl( { className, setState } ) {\n *   const [ searchInput, setSearchInput ] = useState( '' );\n *\n *   return (\n *     <SearchControl\n *       value={ searchInput }\n *       onChange={ setSearchInput }\n *     />\n *   );\n * }\n * ```\n */\nexport const SearchControl = forwardRef( UnforwardedSearchControl );\n\nexport default SearchControl;\n"],"mappings":"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"}