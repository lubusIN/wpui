{"version":3,"names":["classnames","useState","ROOT_MENU","NavigationMenuContext","useNavigationContext","useNavigationTreeMenu","NavigationBackButton","NavigationMenuTitle","NavigationSearchNoResultsFound","NavigableMenu","MenuUI","NavigationMenu","props","backButtonLabel","children","className","hasSearch","menu","onBackButtonClick","onSearch","setControlledSearch","parentMenu","search","controlledSearch","isSearchDebouncing","title","titleAction","uncontrolledSearch","setUncontrolledSearch","activeMenu","context","createElement","Provider","value","isControlledSearch","menuTitleId","classes","onClick"],"sources":["@wordpress/components/src/navigation/menu/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ROOT_MENU } from '../constants';\nimport { NavigationMenuContext } from './context';\nimport { useNavigationContext } from '../context';\nimport { useNavigationTreeMenu } from './use-navigation-tree-menu';\nimport NavigationBackButton from '../back-button';\nimport NavigationMenuTitle from './menu-title';\nimport NavigationSearchNoResultsFound from './search-no-results-found';\nimport { NavigableMenu } from '../../navigable-container';\nimport { MenuUI } from '../styles/navigation-styles';\n\nimport type { NavigationMenuProps } from '../types';\n\nexport function NavigationMenu( props: NavigationMenuProps ) {\n\tconst {\n\t\tbackButtonLabel,\n\t\tchildren,\n\t\tclassName,\n\t\thasSearch,\n\t\tmenu = ROOT_MENU,\n\t\tonBackButtonClick,\n\t\tonSearch: setControlledSearch,\n\t\tparentMenu,\n\t\tsearch: controlledSearch,\n\t\tisSearchDebouncing,\n\t\ttitle,\n\t\ttitleAction,\n\t} = props;\n\tconst [ uncontrolledSearch, setUncontrolledSearch ] = useState( '' );\n\tuseNavigationTreeMenu( props );\n\tconst { activeMenu } = useNavigationContext();\n\n\tconst context = {\n\t\tmenu,\n\t\tsearch: uncontrolledSearch,\n\t};\n\n\t// Keep the children rendered to make sure invisible items are included in the navigation tree.\n\tif ( activeMenu !== menu ) {\n\t\treturn (\n\t\t\t<NavigationMenuContext.Provider value={ context }>\n\t\t\t\t{ children }\n\t\t\t</NavigationMenuContext.Provider>\n\t\t);\n\t}\n\n\tconst isControlledSearch = !! setControlledSearch;\n\tconst search = isControlledSearch ? controlledSearch : uncontrolledSearch;\n\tconst onSearch = isControlledSearch\n\t\t? setControlledSearch\n\t\t: setUncontrolledSearch;\n\n\tconst menuTitleId = `components-navigation__menu-title-${ menu }`;\n\tconst classes = classnames( 'components-navigation__menu', className );\n\n\treturn (\n\t\t<NavigationMenuContext.Provider value={ context }>\n\t\t\t<MenuUI className={ classes }>\n\t\t\t\t{ ( parentMenu || onBackButtonClick ) && (\n\t\t\t\t\t<NavigationBackButton\n\t\t\t\t\t\tbackButtonLabel={ backButtonLabel }\n\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\tonClick={ onBackButtonClick }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t{ title && (\n\t\t\t\t\t<NavigationMenuTitle\n\t\t\t\t\t\thasSearch={ hasSearch }\n\t\t\t\t\t\tonSearch={ onSearch }\n\t\t\t\t\t\tsearch={ search }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t\ttitleAction={ titleAction }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t<NavigableMenu>\n\t\t\t\t\t<ul aria-labelledby={ menuTitleId }>\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t{ search && ! isSearchDebouncing && (\n\t\t\t\t\t\t\t<NavigationSearchNoResultsFound search={ search } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</ul>\n\t\t\t\t</NavigableMenu>\n\t\t\t</MenuUI>\n\t\t</NavigationMenuContext.Provider>\n\t);\n}\n\nexport default NavigationMenu;\n"],"mappings":";AAAA;AACA;AACA;AACA,OAAOA,UAAU,MAAM,YAAY;;AAEnC;AACA;AACA;AACA,SAASC,QAAQ,QAAQ,oBAAoB;;AAE7C;AACA;AACA;AACA,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,qBAAqB,QAAQ,WAAW;AACjD,SAASC,oBAAoB,QAAQ,YAAY;AACjD,SAASC,qBAAqB,QAAQ,4BAA4B;AAClE,OAAOC,oBAAoB,MAAM,gBAAgB;AACjD,OAAOC,mBAAmB,MAAM,cAAc;AAC9C,OAAOC,8BAA8B,MAAM,2BAA2B;AACtE,SAASC,aAAa,QAAQ,2BAA2B;AACzD,SAASC,MAAM,QAAQ,6BAA6B;AAIpD,OAAO,SAASC,cAAcA,CAAEC,KAA0B,EAAG;EAC5D,MAAM;IACLC,eAAe;IACfC,QAAQ;IACRC,SAAS;IACTC,SAAS;IACTC,IAAI,GAAGf,SAAS;IAChBgB,iBAAiB;IACjBC,QAAQ,EAAEC,mBAAmB;IAC7BC,UAAU;IACVC,MAAM,EAAEC,gBAAgB;IACxBC,kBAAkB;IAClBC,KAAK;IACLC;EACD,CAAC,GAAGd,KAAK;EACT,MAAM,CAAEe,kBAAkB,EAAEC,qBAAqB,CAAE,GAAG3B,QAAQ,CAAE,EAAG,CAAC;EACpEI,qBAAqB,CAAEO,KAAM,CAAC;EAC9B,MAAM;IAAEiB;EAAW,CAAC,GAAGzB,oBAAoB,CAAC,CAAC;EAE7C,MAAM0B,OAAO,GAAG;IACfb,IAAI;IACJK,MAAM,EAAEK;EACT,CAAC;;EAED;EACA,IAAKE,UAAU,KAAKZ,IAAI,EAAG;IAC1B,OACCc,aAAA,CAAC5B,qBAAqB,CAAC6B,QAAQ;MAACC,KAAK,EAAGH;IAAS,GAC9ChB,QAC6B,CAAC;EAEnC;EAEA,MAAMoB,kBAAkB,GAAG,CAAC,CAAEd,mBAAmB;EACjD,MAAME,MAAM,GAAGY,kBAAkB,GAAGX,gBAAgB,GAAGI,kBAAkB;EACzE,MAAMR,QAAQ,GAAGe,kBAAkB,GAChCd,mBAAmB,GACnBQ,qBAAqB;EAExB,MAAMO,WAAW,GAAI,qCAAqClB,IAAM,EAAC;EACjE,MAAMmB,OAAO,GAAGpC,UAAU,CAAE,6BAA6B,EAAEe,SAAU,CAAC;EAEtE,OACCgB,aAAA,CAAC5B,qBAAqB,CAAC6B,QAAQ;IAACC,KAAK,EAAGH;EAAS,GAChDC,aAAA,CAACrB,MAAM;IAACK,SAAS,EAAGqB;EAAS,GAC1B,CAAEf,UAAU,IAAIH,iBAAiB,KAClCa,aAAA,CAACzB,oBAAoB;IACpBO,eAAe,EAAGA,eAAiB;IACnCQ,UAAU,EAAGA,UAAY;IACzBgB,OAAO,EAAGnB;EAAmB,CAC7B,CACD,EAECO,KAAK,IACNM,aAAA,CAACxB,mBAAmB;IACnBS,SAAS,EAAGA,SAAW;IACvBG,QAAQ,EAAGA,QAAU;IACrBG,MAAM,EAAGA,MAAQ;IACjBG,KAAK,EAAGA,KAAO;IACfC,WAAW,EAAGA;EAAa,CAC3B,CACD,EAEDK,aAAA,CAACtB,aAAa,QACbsB,aAAA;IAAI,mBAAkBI;EAAa,GAChCrB,QAAQ,EACRQ,MAAM,IAAI,CAAEE,kBAAkB,IAC/BO,aAAA,CAACvB,8BAA8B;IAACc,MAAM,EAAGA;EAAQ,CAAE,CAEjD,CACU,CACR,CACuB,CAAC;AAEnC;AAEA,eAAeX,cAAc"}