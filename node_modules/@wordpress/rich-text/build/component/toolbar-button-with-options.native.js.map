{"version":3,"names":["_element","require","_components","_icons","ToolbarButtonWithOptions","options","picker","useRef","presentPicker","current","onValueSelected","selectedValue","selectedOption","find","op","value","onClick","length","firstOption","enablePicker","createElement","Fragment","ToolbarGroup","ToolbarButton","title","icon","Icon","onLongPress","undefined","Picker","ref","onChange","hideCancelButton","_default","exports","default"],"sources":["@wordpress/rich-text/src/component/toolbar-button-with-options.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Picker, ToolbarGroup, ToolbarButton } from '@wordpress/components';\nimport { useRef } from '@wordpress/element';\nimport { Icon } from '@wordpress/icons';\n\n/**\n * Toolbar button component that, upon a long press, opens a Picker\n * to allow selecting from among multiple options.\n *\n * @param {Object} props         Component props.\n * @param {Object} props.options Options to pick from.\n */\nfunction ToolbarButtonWithOptions( { options } ) {\n\tconst picker = useRef();\n\n\tfunction presentPicker() {\n\t\tif ( picker.current ) {\n\t\t\tpicker.current.presentPicker();\n\t\t}\n\t}\n\n\tfunction onValueSelected( selectedValue ) {\n\t\tconst selectedOption = options.find(\n\t\t\t( op ) => op.value === selectedValue\n\t\t);\n\t\tif ( selectedOption ) {\n\t\t\tselectedOption.onClick();\n\t\t}\n\t}\n\n\tif ( ! options || options.length === 0 ) {\n\t\treturn null;\n\t}\n\tconst firstOption = options[ 0 ];\n\tconst enablePicker = options.length > 1;\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarGroup>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ttitle={ firstOption.title }\n\t\t\t\t\ticon={ <Icon icon={ firstOption.icon } /> }\n\t\t\t\t\tonClick={ firstOption.onClick }\n\t\t\t\t\tonLongPress={ enablePicker ? presentPicker : undefined }\n\t\t\t\t/>\n\t\t\t</ToolbarGroup>\n\t\t\t{ enablePicker && (\n\t\t\t\t<Picker\n\t\t\t\t\tref={ picker }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ onValueSelected }\n\t\t\t\t\thideCancelButton\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ToolbarButtonWithOptions;\n"],"mappings":";;;;;;AAIA,IAAAA,QAAA,GAAAC,OAAA;AADA,IAAAC,WAAA,GAAAD,OAAA;AAEA,IAAAE,MAAA,GAAAF,OAAA;AALA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,wBAAwBA,CAAE;EAAEC;AAAQ,CAAC,EAAG;EAChD,MAAMC,MAAM,GAAG,IAAAC,eAAM,EAAC,CAAC;EAEvB,SAASC,aAAaA,CAAA,EAAG;IACxB,IAAKF,MAAM,CAACG,OAAO,EAAG;MACrBH,MAAM,CAACG,OAAO,CAACD,aAAa,CAAC,CAAC;IAC/B;EACD;EAEA,SAASE,eAAeA,CAAEC,aAAa,EAAG;IACzC,MAAMC,cAAc,GAAGP,OAAO,CAACQ,IAAI,CAChCC,EAAE,IAAMA,EAAE,CAACC,KAAK,KAAKJ,aACxB,CAAC;IACD,IAAKC,cAAc,EAAG;MACrBA,cAAc,CAACI,OAAO,CAAC,CAAC;IACzB;EACD;EAEA,IAAK,CAAEX,OAAO,IAAIA,OAAO,CAACY,MAAM,KAAK,CAAC,EAAG;IACxC,OAAO,IAAI;EACZ;EACA,MAAMC,WAAW,GAAGb,OAAO,CAAE,CAAC,CAAE;EAChC,MAAMc,YAAY,GAAGd,OAAO,CAACY,MAAM,GAAG,CAAC;EAEvC,OACC,IAAAjB,QAAA,CAAAoB,aAAA,EAAApB,QAAA,CAAAqB,QAAA,QACC,IAAArB,QAAA,CAAAoB,aAAA,EAAClB,WAAA,CAAAoB,YAAY,QACZ,IAAAtB,QAAA,CAAAoB,aAAA,EAAClB,WAAA,CAAAqB,aAAa;IACbC,KAAK,EAAGN,WAAW,CAACM,KAAO;IAC3BC,IAAI,EAAG,IAAAzB,QAAA,CAAAoB,aAAA,EAACjB,MAAA,CAAAuB,IAAI;MAACD,IAAI,EAAGP,WAAW,CAACO;IAAM,CAAE,CAAG;IAC3CT,OAAO,EAAGE,WAAW,CAACF,OAAS;IAC/BW,WAAW,EAAGR,YAAY,GAAGX,aAAa,GAAGoB;EAAW,CACxD,CACY,CAAC,EACbT,YAAY,IACb,IAAAnB,QAAA,CAAAoB,aAAA,EAAClB,WAAA,CAAA2B,MAAM;IACNC,GAAG,EAAGxB,MAAQ;IACdD,OAAO,EAAGA,OAAS;IACnB0B,QAAQ,EAAGrB,eAAiB;IAC5BsB,gBAAgB;EAAA,CAChB,CAED,CAAC;AAEL;AAAC,IAAAC,QAAA,GAEc7B,wBAAwB;AAAA8B,OAAA,CAAAC,OAAA,GAAAF,QAAA"}