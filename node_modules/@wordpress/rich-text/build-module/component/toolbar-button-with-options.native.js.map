{"version":3,"names":["Picker","ToolbarGroup","ToolbarButton","useRef","Icon","ToolbarButtonWithOptions","options","picker","presentPicker","current","onValueSelected","selectedValue","selectedOption","find","op","value","onClick","length","firstOption","enablePicker","createElement","Fragment","title","icon","onLongPress","undefined","ref","onChange","hideCancelButton"],"sources":["@wordpress/rich-text/src/component/toolbar-button-with-options.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Picker, ToolbarGroup, ToolbarButton } from '@wordpress/components';\nimport { useRef } from '@wordpress/element';\nimport { Icon } from '@wordpress/icons';\n\n/**\n * Toolbar button component that, upon a long press, opens a Picker\n * to allow selecting from among multiple options.\n *\n * @param {Object} props         Component props.\n * @param {Object} props.options Options to pick from.\n */\nfunction ToolbarButtonWithOptions( { options } ) {\n\tconst picker = useRef();\n\n\tfunction presentPicker() {\n\t\tif ( picker.current ) {\n\t\t\tpicker.current.presentPicker();\n\t\t}\n\t}\n\n\tfunction onValueSelected( selectedValue ) {\n\t\tconst selectedOption = options.find(\n\t\t\t( op ) => op.value === selectedValue\n\t\t);\n\t\tif ( selectedOption ) {\n\t\t\tselectedOption.onClick();\n\t\t}\n\t}\n\n\tif ( ! options || options.length === 0 ) {\n\t\treturn null;\n\t}\n\tconst firstOption = options[ 0 ];\n\tconst enablePicker = options.length > 1;\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarGroup>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ttitle={ firstOption.title }\n\t\t\t\t\ticon={ <Icon icon={ firstOption.icon } /> }\n\t\t\t\t\tonClick={ firstOption.onClick }\n\t\t\t\t\tonLongPress={ enablePicker ? presentPicker : undefined }\n\t\t\t\t/>\n\t\t\t</ToolbarGroup>\n\t\t\t{ enablePicker && (\n\t\t\t\t<Picker\n\t\t\t\t\tref={ picker }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ onValueSelected }\n\t\t\t\t\thideCancelButton\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ToolbarButtonWithOptions;\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,YAAY,EAAEC,aAAa,QAAQ,uBAAuB;AAC3E,SAASC,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,IAAI,QAAQ,kBAAkB;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,wBAAwBA,CAAE;EAAEC;AAAQ,CAAC,EAAG;EAChD,MAAMC,MAAM,GAAGJ,MAAM,CAAC,CAAC;EAEvB,SAASK,aAAaA,CAAA,EAAG;IACxB,IAAKD,MAAM,CAACE,OAAO,EAAG;MACrBF,MAAM,CAACE,OAAO,CAACD,aAAa,CAAC,CAAC;IAC/B;EACD;EAEA,SAASE,eAAeA,CAAEC,aAAa,EAAG;IACzC,MAAMC,cAAc,GAAGN,OAAO,CAACO,IAAI,CAChCC,EAAE,IAAMA,EAAE,CAACC,KAAK,KAAKJ,aACxB,CAAC;IACD,IAAKC,cAAc,EAAG;MACrBA,cAAc,CAACI,OAAO,CAAC,CAAC;IACzB;EACD;EAEA,IAAK,CAAEV,OAAO,IAAIA,OAAO,CAACW,MAAM,KAAK,CAAC,EAAG;IACxC,OAAO,IAAI;EACZ;EACA,MAAMC,WAAW,GAAGZ,OAAO,CAAE,CAAC,CAAE;EAChC,MAAMa,YAAY,GAAGb,OAAO,CAACW,MAAM,GAAG,CAAC;EAEvC,OACCG,aAAA,CAAAC,QAAA,QACCD,aAAA,CAACnB,YAAY,QACZmB,aAAA,CAAClB,aAAa;IACboB,KAAK,EAAGJ,WAAW,CAACI,KAAO;IAC3BC,IAAI,EAAGH,aAAA,CAAChB,IAAI;MAACmB,IAAI,EAAGL,WAAW,CAACK;IAAM,CAAE,CAAG;IAC3CP,OAAO,EAAGE,WAAW,CAACF,OAAS;IAC/BQ,WAAW,EAAGL,YAAY,GAAGX,aAAa,GAAGiB;EAAW,CACxD,CACY,CAAC,EACbN,YAAY,IACbC,aAAA,CAACpB,MAAM;IACN0B,GAAG,EAAGnB,MAAQ;IACdD,OAAO,EAAGA,OAAS;IACnBqB,QAAQ,EAAGjB,eAAiB;IAC5BkB,gBAAgB;EAAA,CAChB,CAED,CAAC;AAEL;AAEA,eAAevB,wBAAwB"}