{"version":3,"names":["_element","require","_context","_interopRequireDefault","_useSlot","Fill","name","children","registerFill","unregisterFill","useContext","SlotFillContext","slot","useSlot","ref","useRef","useLayoutEffect","refValue","current","forceUpdate"],"sources":["@wordpress/components/src/slot-fill/fill.js"],"sourcesContent":["// @ts-nocheck\n\n/**\n * WordPress dependencies\n */\nimport { useContext, useLayoutEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport SlotFillContext from './context';\nimport useSlot from './use-slot';\n\nexport default function Fill( { name, children } ) {\n\tconst { registerFill, unregisterFill } = useContext( SlotFillContext );\n\tconst slot = useSlot( name );\n\n\tconst ref = useRef( {\n\t\tname,\n\t\tchildren,\n\t} );\n\n\tuseLayoutEffect( () => {\n\t\tconst refValue = ref.current;\n\t\tregisterFill( name, refValue );\n\t\treturn () => unregisterFill( name, refValue );\n\t\t// Ignore reason: the useLayoutEffects here are written to fire at specific times, and introducing new dependencies could cause unexpected changes in behavior.\n\t\t// We'll leave them as-is until a more detailed investigation/refactor can be performed.\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [] );\n\n\tuseLayoutEffect( () => {\n\t\tref.current.children = children;\n\t\tif ( slot ) {\n\t\t\tslot.forceUpdate();\n\t\t}\n\t\t// Ignore reason: the useLayoutEffects here are written to fire at specific times, and introducing new dependencies could cause unexpected changes in behavior.\n\t\t// We'll leave them as-is until a more detailed investigation/refactor can be performed.\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [ children ] );\n\n\tuseLayoutEffect( () => {\n\t\tif ( name === ref.current.name ) {\n\t\t\t// Ignore initial effect.\n\t\t\treturn;\n\t\t}\n\t\tunregisterFill( ref.current.name, ref.current );\n\t\tref.current.name = name;\n\t\tregisterFill( name, ref.current );\n\t\t// Ignore reason: the useLayoutEffects here are written to fire at specific times, and introducing new dependencies could cause unexpected changes in behavior.\n\t\t// We'll leave them as-is until a more detailed investigation/refactor can be performed.\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [ name ] );\n\n\treturn null;\n}\n"],"mappings":";;;;;;;AAKA,IAAAA,QAAA,GAAAC,OAAA;AAKA,IAAAC,QAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,QAAA,GAAAD,sBAAA,CAAAF,OAAA;AAXA;;AAEA;AACA;AACA;;AAGA;AACA;AACA;;AAIe,SAASI,IAAIA,CAAE;EAAEC,IAAI;EAAEC;AAAS,CAAC,EAAG;EAClD,MAAM;IAAEC,YAAY;IAAEC;EAAe,CAAC,GAAG,IAAAC,mBAAU,EAAEC,gBAAgB,CAAC;EACtE,MAAMC,IAAI,GAAG,IAAAC,gBAAO,EAAEP,IAAK,CAAC;EAE5B,MAAMQ,GAAG,GAAG,IAAAC,eAAM,EAAE;IACnBT,IAAI;IACJC;EACD,CAAE,CAAC;EAEH,IAAAS,wBAAe,EAAE,MAAM;IACtB,MAAMC,QAAQ,GAAGH,GAAG,CAACI,OAAO;IAC5BV,YAAY,CAAEF,IAAI,EAAEW,QAAS,CAAC;IAC9B,OAAO,MAAMR,cAAc,CAAEH,IAAI,EAAEW,QAAS,CAAC;IAC7C;IACA;IACA;EACD,CAAC,EAAE,EAAG,CAAC;EAEP,IAAAD,wBAAe,EAAE,MAAM;IACtBF,GAAG,CAACI,OAAO,CAACX,QAAQ,GAAGA,QAAQ;IAC/B,IAAKK,IAAI,EAAG;MACXA,IAAI,CAACO,WAAW,CAAC,CAAC;IACnB;IACA;IACA;IACA;EACD,CAAC,EAAE,CAAEZ,QAAQ,CAAG,CAAC;EAEjB,IAAAS,wBAAe,EAAE,MAAM;IACtB,IAAKV,IAAI,KAAKQ,GAAG,CAACI,OAAO,CAACZ,IAAI,EAAG;MAChC;MACA;IACD;IACAG,cAAc,CAAEK,GAAG,CAACI,OAAO,CAACZ,IAAI,EAAEQ,GAAG,CAACI,OAAQ,CAAC;IAC/CJ,GAAG,CAACI,OAAO,CAACZ,IAAI,GAAGA,IAAI;IACvBE,YAAY,CAAEF,IAAI,EAAEQ,GAAG,CAACI,OAAQ,CAAC;IACjC;IACA;IACA;EACD,CAAC,EAAE,CAAEZ,IAAI,CAAG,CAAC;EAEb,OAAO,IAAI;AACZ"}