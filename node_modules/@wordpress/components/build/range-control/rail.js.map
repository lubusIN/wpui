{"version":3,"names":["_i18n","require","_mark","_interopRequireDefault","_rangeControlStyles","RangeRail","props","disabled","marks","min","max","step","value","restProps","_element","createElement","Fragment","Rail","Marks","stepProp","marksData","useMarks","MarksWrapper","className","map","mark","default","key","range","Array","isArray","count","Math","round","push","length","placedMarks","forEach","index","isFilled","offset","offsetStyle","isRTL","style"],"sources":["@wordpress/components/src/range-control/rail.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport RangeMark from './mark';\nimport { MarksWrapper, Rail } from './styles/range-control-styles';\n\nimport type { WordPressComponentProps } from '../ui/context';\nimport type {\n\tMarksProps,\n\tRangeMarkProps,\n\tRailProps,\n\tUseMarksArgs,\n} from './types';\n\nexport default function RangeRail(\n\tprops: WordPressComponentProps< RailProps, 'span' >\n) {\n\tconst {\n\t\tdisabled = false,\n\t\tmarks = false,\n\t\tmin = 0,\n\t\tmax = 100,\n\t\tstep = 1,\n\t\tvalue = 0,\n\t\t...restProps\n\t} = props;\n\n\treturn (\n\t\t<>\n\t\t\t<Rail disabled={ disabled } { ...restProps } />\n\t\t\t{ marks && (\n\t\t\t\t<Marks\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tmarks={ marks }\n\t\t\t\t\tmin={ min }\n\t\t\t\t\tmax={ max }\n\t\t\t\t\tstep={ step }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction Marks( props: WordPressComponentProps< MarksProps, 'span' > ) {\n\tconst {\n\t\tdisabled = false,\n\t\tmarks = false,\n\t\tmin = 0,\n\t\tmax = 100,\n\t\tstep: stepProp = 1,\n\t\tvalue = 0,\n\t} = props;\n\n\tconst step = stepProp === 'any' ? 1 : stepProp;\n\tconst marksData = useMarks( { marks, min, max, step, value } );\n\n\treturn (\n\t\t<MarksWrapper\n\t\t\taria-hidden=\"true\"\n\t\t\tclassName=\"components-range-control__marks\"\n\t\t>\n\t\t\t{ marksData.map( ( mark ) => (\n\t\t\t\t<RangeMark\n\t\t\t\t\t{ ...mark }\n\t\t\t\t\tkey={ mark.key }\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</MarksWrapper>\n\t);\n}\n\nfunction useMarks( {\n\tmarks,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tvalue = 0,\n}: UseMarksArgs ) {\n\tif ( ! marks ) {\n\t\treturn [];\n\t}\n\n\tconst range = max - min;\n\tif ( ! Array.isArray( marks ) ) {\n\t\tmarks = [];\n\t\tconst count = 1 + Math.round( range / step );\n\t\twhile ( count > marks.push( { value: step * marks.length + min } ) );\n\t}\n\n\tconst placedMarks: RangeMarkProps[] = [];\n\tmarks.forEach( ( mark, index ) => {\n\t\tif ( mark.value < min || mark.value > max ) {\n\t\t\treturn;\n\t\t}\n\t\tconst key = `mark-${ index }`;\n\t\tconst isFilled = mark.value <= value;\n\t\tconst offset = `${ ( ( mark.value - min ) / range ) * 100 }%`;\n\n\t\tconst offsetStyle = {\n\t\t\t[ isRTL() ? 'right' : 'left' ]: offset,\n\t\t};\n\n\t\tplacedMarks.push( {\n\t\t\t...mark,\n\t\t\tisFilled,\n\t\t\tkey,\n\t\t\tstyle: offsetStyle,\n\t\t} );\n\t} );\n\n\treturn placedMarks;\n}\n"],"mappings":"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"}