{"version":3,"names":["RCTAztecView","useCallback","useEffect","useState","useTextInputCaretPosition","scrollEnabled","currentCaretData","setCurrentCaretData","onCaretChange","caret","InputState","addCaretChangeListener","removeCaretChangeListener"],"sources":["@wordpress/components/src/mobile/keyboard-aware-flat-list/use-text-input-caret-position.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport RCTAztecView from '@wordpress/react-native-aztec';\nimport { useCallback, useEffect, useState } from '@wordpress/element';\n\n/**\n * Hook that listens to caret changes from AztecView TextInputs.\n *\n * @param {boolean} scrollEnabled Whether the scroll is enabled or not.\n * @return {[number]} Current caret's data.\n */\nexport default function useTextInputCaretPosition( scrollEnabled ) {\n\tconst [ currentCaretData, setCurrentCaretData ] = useState();\n\n\tconst onCaretChange = useCallback( ( caret ) => {\n\t\tsetCurrentCaretData( caret );\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( scrollEnabled ) {\n\t\t\tRCTAztecView.InputState.addCaretChangeListener( onCaretChange );\n\t\t} else {\n\t\t\tRCTAztecView.InputState.removeCaretChangeListener( onCaretChange );\n\t\t}\n\n\t\treturn () => {\n\t\t\tif ( scrollEnabled ) {\n\t\t\t\tRCTAztecView.InputState.removeCaretChangeListener(\n\t\t\t\t\tonCaretChange\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t}, [ scrollEnabled, onCaretChange ] );\n\treturn [ currentCaretData ];\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,YAAY,MAAM,+BAA+B;AACxD,SAASC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,oBAAoB;;AAErE;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,yBAAyBA,CAAEC,aAAa,EAAG;EAClE,MAAM,CAAEC,gBAAgB,EAAEC,mBAAmB,CAAE,GAAGJ,QAAQ,CAAC,CAAC;EAE5D,MAAMK,aAAa,GAAGP,WAAW,CAAIQ,KAAK,IAAM;IAC/CF,mBAAmB,CAAEE,KAAM,CAAC;EAC7B,CAAC,EAAE,EAAG,CAAC;EAEPP,SAAS,CAAE,MAAM;IAChB,IAAKG,aAAa,EAAG;MACpBL,YAAY,CAACU,UAAU,CAACC,sBAAsB,CAAEH,aAAc,CAAC;IAChE,CAAC,MAAM;MACNR,YAAY,CAACU,UAAU,CAACE,yBAAyB,CAAEJ,aAAc,CAAC;IACnE;IAEA,OAAO,MAAM;MACZ,IAAKH,aAAa,EAAG;QACpBL,YAAY,CAACU,UAAU,CAACE,yBAAyB,CAChDJ,aACD,CAAC;MACF;IACD,CAAC;EACF,CAAC,EAAE,CAAEH,aAAa,EAAEG,aAAa,CAAG,CAAC;EACrC,OAAO,CAAEF,gBAAgB,CAAE;AAC5B"}