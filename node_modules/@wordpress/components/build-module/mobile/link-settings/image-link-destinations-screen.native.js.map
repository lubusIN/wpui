{"version":3,"names":["useNavigation","useRoute","StyleSheet","__","Icon","check","chevronRight","blockSettingsScreens","usePreferredColorSchemeStyle","styles","PanelBody","BottomSheet","LINK_DESTINATION_NONE","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_CUSTOM","LinkDestination","children","isSelected","label","onPress","value","valueStyle","optionIcon","optionIconDark","createElement","Cell","icon","iconStyle","flatten","unselectedOptionIcon","leftAlign","separatorType","ImageLinkDestinationsScreen","props","navigation","route","url","inputValue","imageUrl","attachmentPageUrl","linkDestination","params","goToLinkPicker","navigate","linkPicker","setLinkDestination","newLinkDestination","newUrl","settings","text","Fragment","NavBar","BackButton","goBack","Heading","undefined","placeholderTextColor"],"sources":["@wordpress/components/src/mobile/link-settings/image-link-destinations-screen.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { StyleSheet } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, check, chevronRight } from '@wordpress/icons';\nimport { blockSettingsScreens } from '@wordpress/block-editor';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\nimport PanelBody from '../../panel/body';\nimport BottomSheet from '../bottom-sheet';\n\nconst LINK_DESTINATION_NONE = 'none';\nconst LINK_DESTINATION_MEDIA = 'media';\nconst LINK_DESTINATION_ATTACHMENT = 'attachment';\nconst LINK_DESTINATION_CUSTOM = 'custom';\n\nfunction LinkDestination( {\n\tchildren,\n\tisSelected,\n\tlabel,\n\tonPress,\n\tvalue,\n\tvalueStyle,\n} ) {\n\tconst optionIcon = usePreferredColorSchemeStyle(\n\t\tstyles.optionIcon,\n\t\tstyles.optionIconDark\n\t);\n\treturn (\n\t\t<BottomSheet.Cell\n\t\t\ticon={ check }\n\t\t\ticonStyle={ StyleSheet.flatten( [\n\t\t\t\toptionIcon,\n\t\t\t\t! isSelected && styles.unselectedOptionIcon,\n\t\t\t] ) }\n\t\t\tlabel={ label }\n\t\t\tleftAlign\n\t\t\tonPress={ onPress }\n\t\t\tvalue={ value }\n\t\t\tvalueStyle={ valueStyle }\n\t\t\tseparatorType=\"leftMargin\"\n\t\t>\n\t\t\t{ children }\n\t\t</BottomSheet.Cell>\n\t);\n}\n\nfunction ImageLinkDestinationsScreen( props ) {\n\tconst navigation = useNavigation();\n\tconst route = useRoute();\n\tconst { url = '' } = props;\n\tconst {\n\t\tinputValue = url,\n\t\timageUrl,\n\t\tattachmentPageUrl,\n\t\tlinkDestination,\n\t} = route.params || {};\n\n\tfunction goToLinkPicker() {\n\t\tnavigation.navigate( blockSettingsScreens.linkPicker, {\n\t\t\tinputValue:\n\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM ? inputValue : '',\n\t\t} );\n\t}\n\n\tconst setLinkDestination = ( newLinkDestination ) => () => {\n\t\tlet newUrl;\n\t\tswitch ( newLinkDestination ) {\n\t\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\t\tnewUrl = imageUrl;\n\t\t\t\tbreak;\n\t\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\t\tnewUrl = attachmentPageUrl;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tnewUrl = '';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tnavigation.navigate( blockSettingsScreens.settings, {\n\t\t\t// The `inputValue` name is reused from LinkPicker, as it helps avoid\n\t\t\t// bugs from stale values remaining in the React Navigation route\n\t\t\t// parameters.\n\t\t\tinputValue: newUrl,\n\t\t\t// Clear link text value that may be set from LinkPicker.\n\t\t\ttext: '',\n\t\t} );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BottomSheet.NavBar>\n\t\t\t\t<BottomSheet.NavBar.BackButton onPress={ navigation.goBack } />\n\t\t\t\t<BottomSheet.NavBar.Heading>\n\t\t\t\t\t{ __( 'Link To' ) }\n\t\t\t\t</BottomSheet.NavBar.Heading>\n\t\t\t</BottomSheet.NavBar>\n\t\t\t<PanelBody>\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_NONE }\n\t\t\t\t\tlabel={ __( 'None' ) }\n\t\t\t\t\tonPress={ setLinkDestination( LINK_DESTINATION_NONE ) }\n\t\t\t\t/>\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_MEDIA }\n\t\t\t\t\tlabel={ __( 'Media File' ) }\n\t\t\t\t\tonPress={ setLinkDestination( LINK_DESTINATION_MEDIA ) }\n\t\t\t\t/>\n\t\t\t\t{ !! attachmentPageUrl && (\n\t\t\t\t\t<LinkDestination\n\t\t\t\t\t\tisSelected={\n\t\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_ATTACHMENT\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={ __( 'Attachment Page' ) }\n\t\t\t\t\t\tonPress={ setLinkDestination(\n\t\t\t\t\t\t\tLINK_DESTINATION_ATTACHMENT\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_CUSTOM }\n\t\t\t\t\tlabel={ __( 'Custom URL' ) }\n\t\t\t\t\tonPress={ goToLinkPicker }\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM\n\t\t\t\t\t\t\t? inputValue\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\tvalueStyle={\n\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM\n\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t: styles.placeholderTextColor\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Icon icon={ chevronRight }></Icon>\n\t\t\t\t</LinkDestination>\n\t\t\t</PanelBody>\n\t\t</>\n\t);\n}\n\nexport default ImageLinkDestinationsScreen;\n"],"mappings":"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"}