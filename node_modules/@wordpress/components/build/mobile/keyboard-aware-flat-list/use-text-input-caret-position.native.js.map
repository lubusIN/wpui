{"version":3,"names":["_reactNativeAztec","_interopRequireDefault","require","_element","useTextInputCaretPosition","scrollEnabled","currentCaretData","setCurrentCaretData","useState","onCaretChange","useCallback","caret","useEffect","RCTAztecView","InputState","addCaretChangeListener","removeCaretChangeListener"],"sources":["@wordpress/components/src/mobile/keyboard-aware-flat-list/use-text-input-caret-position.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport RCTAztecView from '@wordpress/react-native-aztec';\nimport { useCallback, useEffect, useState } from '@wordpress/element';\n\n/**\n * Hook that listens to caret changes from AztecView TextInputs.\n *\n * @param {boolean} scrollEnabled Whether the scroll is enabled or not.\n * @return {[number]} Current caret's data.\n */\nexport default function useTextInputCaretPosition( scrollEnabled ) {\n\tconst [ currentCaretData, setCurrentCaretData ] = useState();\n\n\tconst onCaretChange = useCallback( ( caret ) => {\n\t\tsetCurrentCaretData( caret );\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( scrollEnabled ) {\n\t\t\tRCTAztecView.InputState.addCaretChangeListener( onCaretChange );\n\t\t} else {\n\t\t\tRCTAztecView.InputState.removeCaretChangeListener( onCaretChange );\n\t\t}\n\n\t\treturn () => {\n\t\t\tif ( scrollEnabled ) {\n\t\t\t\tRCTAztecView.InputState.removeCaretChangeListener(\n\t\t\t\t\tonCaretChange\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t}, [ scrollEnabled, onCaretChange ] );\n\treturn [ currentCaretData ];\n}\n"],"mappings":";;;;;;;AAGA,IAAAA,iBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAJA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACe,SAASE,yBAAyBA,CAAEC,aAAa,EAAG;EAClE,MAAM,CAAEC,gBAAgB,EAAEC,mBAAmB,CAAE,GAAG,IAAAC,iBAAQ,EAAC,CAAC;EAE5D,MAAMC,aAAa,GAAG,IAAAC,oBAAW,EAAIC,KAAK,IAAM;IAC/CJ,mBAAmB,CAAEI,KAAM,CAAC;EAC7B,CAAC,EAAE,EAAG,CAAC;EAEP,IAAAC,kBAAS,EAAE,MAAM;IAChB,IAAKP,aAAa,EAAG;MACpBQ,yBAAY,CAACC,UAAU,CAACC,sBAAsB,CAAEN,aAAc,CAAC;IAChE,CAAC,MAAM;MACNI,yBAAY,CAACC,UAAU,CAACE,yBAAyB,CAAEP,aAAc,CAAC;IACnE;IAEA,OAAO,MAAM;MACZ,IAAKJ,aAAa,EAAG;QACpBQ,yBAAY,CAACC,UAAU,CAACE,yBAAyB,CAChDP,aACD,CAAC;MACF;IACD,CAAC;EACF,CAAC,EAAE,CAAEJ,aAAa,EAAEI,aAAa,CAAG,CAAC;EACrC,OAAO,CAAEH,gBAAgB,CAAE;AAC5B"}