{"version":3,"names":["_domReady","_interopRequireDefault","require","_addIntroText","_addContainer","_clear","_filterMessage","setup","introText","document","getElementById","containerAssertive","containerPolite","addIntroText","addContainer","domReady","speak","message","ariaLive","clear","filterMessage","textContent","removeAttribute"],"sources":["@wordpress/a11y/src/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Internal dependencies\n */\nimport addIntroText from './add-intro-text';\nimport addContainer from './add-container';\nimport clear from './clear';\nimport filterMessage from './filter-message';\n\n/**\n * Create the live regions.\n */\nexport function setup() {\n\tconst introText = document.getElementById( 'a11y-speak-intro-text' );\n\tconst containerAssertive = document.getElementById(\n\t\t'a11y-speak-assertive'\n\t);\n\tconst containerPolite = document.getElementById( 'a11y-speak-polite' );\n\n\tif ( introText === null ) {\n\t\taddIntroText();\n\t}\n\n\tif ( containerAssertive === null ) {\n\t\taddContainer( 'assertive' );\n\t}\n\n\tif ( containerPolite === null ) {\n\t\taddContainer( 'polite' );\n\t}\n}\n\n/**\n * Run setup on domReady.\n */\ndomReady( setup );\n\n/**\n * Allows you to easily announce dynamic interface updates to screen readers using ARIA live regions.\n * This module is inspired by the `speak` function in `wp-a11y.js`.\n *\n * @param {string} message    The message to be announced by assistive technologies.\n * @param {string} [ariaLive] The politeness level for aria-live; default: 'polite'.\n *\n * @example\n * ```js\n * import { speak } from '@wordpress/a11y';\n *\n * // For polite messages that shouldn't interrupt what screen readers are currently announcing.\n * speak( 'The message you want to send to the ARIA live region' );\n *\n * // For assertive messages that should interrupt what screen readers are currently announcing.\n * speak( 'The message you want to send to the ARIA live region', 'assertive' );\n * ```\n */\nexport function speak( message, ariaLive ) {\n\t/*\n\t * Clear previous messages to allow repeated strings being read out and hide\n\t * the explanatory text from assistive technologies.\n\t */\n\tclear();\n\n\tmessage = filterMessage( message );\n\n\tconst introText = document.getElementById( 'a11y-speak-intro-text' );\n\tconst containerAssertive = document.getElementById(\n\t\t'a11y-speak-assertive'\n\t);\n\tconst containerPolite = document.getElementById( 'a11y-speak-polite' );\n\n\tif ( containerAssertive && ariaLive === 'assertive' ) {\n\t\tcontainerAssertive.textContent = message;\n\t} else if ( containerPolite ) {\n\t\tcontainerPolite.textContent = message;\n\t}\n\n\t/*\n\t * Make the explanatory text available to assistive technologies by removing\n\t * the 'hidden' HTML attribute.\n\t */\n\tif ( introText ) {\n\t\tintroText.removeAttribute( 'hidden' );\n\t}\n}\n"],"mappings":";;;;;;;;AAGA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAKA,IAAAC,aAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,aAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,MAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,cAAA,GAAAL,sBAAA,CAAAC,OAAA;AAXA;AACA;AACA;;AAGA;AACA;AACA;;AAMA;AACA;AACA;AACO,SAASK,KAAKA,CAAA,EAAG;EACvB,MAAMC,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAE,uBAAwB,CAAC;EACpE,MAAMC,kBAAkB,GAAGF,QAAQ,CAACC,cAAc,CACjD,sBACD,CAAC;EACD,MAAME,eAAe,GAAGH,QAAQ,CAACC,cAAc,CAAE,mBAAoB,CAAC;EAEtE,IAAKF,SAAS,KAAK,IAAI,EAAG;IACzB,IAAAK,qBAAY,EAAC,CAAC;EACf;EAEA,IAAKF,kBAAkB,KAAK,IAAI,EAAG;IAClC,IAAAG,qBAAY,EAAE,WAAY,CAAC;EAC5B;EAEA,IAAKF,eAAe,KAAK,IAAI,EAAG;IAC/B,IAAAE,qBAAY,EAAE,QAAS,CAAC;EACzB;AACD;;AAEA;AACA;AACA;AACA,IAAAC,iBAAQ,EAAER,KAAM,CAAC;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASS,KAAKA,CAAEC,OAAO,EAAEC,QAAQ,EAAG;EAC1C;AACD;AACA;AACA;EACC,IAAAC,cAAK,EAAC,CAAC;EAEPF,OAAO,GAAG,IAAAG,sBAAa,EAAEH,OAAQ,CAAC;EAElC,MAAMT,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAE,uBAAwB,CAAC;EACpE,MAAMC,kBAAkB,GAAGF,QAAQ,CAACC,cAAc,CACjD,sBACD,CAAC;EACD,MAAME,eAAe,GAAGH,QAAQ,CAACC,cAAc,CAAE,mBAAoB,CAAC;EAEtE,IAAKC,kBAAkB,IAAIO,QAAQ,KAAK,WAAW,EAAG;IACrDP,kBAAkB,CAACU,WAAW,GAAGJ,OAAO;EACzC,CAAC,MAAM,IAAKL,eAAe,EAAG;IAC7BA,eAAe,CAACS,WAAW,GAAGJ,OAAO;EACtC;;EAEA;AACD;AACA;AACA;EACC,IAAKT,SAAS,EAAG;IAChBA,SAAS,CAACc,eAAe,CAAE,QAAS,CAAC;EACtC;AACD"}