{"version":3,"names":["useRef","useState","__","sprintf","Icon","search","searchIcon","getAnimateClassName","Button","MenuTitleSearch","GroupTitleUI","MenuTitleActionsUI","MenuTitleUI","useNavigationMenuContext","SEARCH_FOCUS_DELAY","NavigationMenuTitle","hasSearch","onSearch","title","titleAction","isSearching","setIsSearching","menu","searchButtonRef","onCloseSearch","setTimeout","current","focus","menuTitleId","searchButtonLabel","createElement","className","as","level","id","isSmall","variant","label","onClick","ref","icon","type","origin"],"sources":["@wordpress/components/src/navigation/menu/menu-title.tsx"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useRef, useState } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Icon, search as searchIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getAnimateClassName } from '../../animate';\nimport Button from '../../button';\nimport MenuTitleSearch from './menu-title-search';\nimport {\n\tGroupTitleUI,\n\tMenuTitleActionsUI,\n\tMenuTitleUI,\n} from '../styles/navigation-styles';\nimport { useNavigationMenuContext } from './context';\nimport { SEARCH_FOCUS_DELAY } from '../constants';\n\nimport type { NavigationMenuTitleProps } from '../types';\n\nexport default function NavigationMenuTitle( {\n\thasSearch,\n\tonSearch,\n\tsearch,\n\ttitle,\n\ttitleAction,\n}: NavigationMenuTitleProps ) {\n\tconst [ isSearching, setIsSearching ] = useState( false );\n\tconst { menu } = useNavigationMenuContext();\n\tconst searchButtonRef = useRef< HTMLElement >( null );\n\n\tif ( ! title ) {\n\t\treturn null;\n\t}\n\n\tconst onCloseSearch = () => {\n\t\tsetIsSearching( false );\n\n\t\t// Wait for the slide-in animation to complete before focusing the search button.\n\t\t// eslint-disable-next-line @wordpress/react-no-unsafe-timeout\n\t\tsetTimeout( () => {\n\t\t\tsearchButtonRef.current?.focus();\n\t\t}, SEARCH_FOCUS_DELAY );\n\t};\n\n\tconst menuTitleId = `components-navigation__menu-title-${ menu }`;\n\t/* translators: search button label for menu search box. %s: menu title */\n\tconst searchButtonLabel = sprintf( __( 'Search in %s' ), title );\n\n\treturn (\n\t\t<MenuTitleUI className=\"components-navigation__menu-title\">\n\t\t\t{ ! isSearching && (\n\t\t\t\t<GroupTitleUI\n\t\t\t\t\tas=\"h2\"\n\t\t\t\t\tclassName=\"components-navigation__menu-title-heading\"\n\t\t\t\t\tlevel={ 3 }\n\t\t\t\t>\n\t\t\t\t\t<span id={ menuTitleId }>{ title }</span>\n\n\t\t\t\t\t{ ( hasSearch || titleAction ) && (\n\t\t\t\t\t\t<MenuTitleActionsUI>\n\t\t\t\t\t\t\t{ titleAction }\n\n\t\t\t\t\t\t\t{ hasSearch && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tlabel={ searchButtonLabel }\n\t\t\t\t\t\t\t\t\tonClick={ () => setIsSearching( true ) }\n\t\t\t\t\t\t\t\t\tref={ searchButtonRef }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon icon={ searchIcon } />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</MenuTitleActionsUI>\n\t\t\t\t\t) }\n\t\t\t\t</GroupTitleUI>\n\t\t\t) }\n\n\t\t\t{ isSearching && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ getAnimateClassName( {\n\t\t\t\t\t\ttype: 'slide-in',\n\t\t\t\t\t\torigin: 'left',\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<MenuTitleSearch\n\t\t\t\t\t\tonCloseSearch={ onCloseSearch }\n\t\t\t\t\t\tonSearch={ onSearch }\n\t\t\t\t\t\tsearch={ search }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</MenuTitleUI>\n\t);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,QAAQ,QAAQ,oBAAoB;AACrD,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,IAAI,EAAEC,MAAM,IAAIC,UAAU,QAAQ,kBAAkB;;AAE7D;AACA;AACA;AACA,SAASC,mBAAmB,QAAQ,eAAe;AACnD,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAOC,eAAe,MAAM,qBAAqB;AACjD,SACCC,YAAY,EACZC,kBAAkB,EAClBC,WAAW,QACL,6BAA6B;AACpC,SAASC,wBAAwB,QAAQ,WAAW;AACpD,SAASC,kBAAkB,QAAQ,cAAc;AAIjD,eAAe,SAASC,mBAAmBA,CAAE;EAC5CC,SAAS;EACTC,QAAQ;EACRZ,MAAM;EACNa,KAAK;EACLC;AACyB,CAAC,EAAG;EAC7B,MAAM,CAAEC,WAAW,EAAEC,cAAc,CAAE,GAAGpB,QAAQ,CAAE,KAAM,CAAC;EACzD,MAAM;IAAEqB;EAAK,CAAC,GAAGT,wBAAwB,CAAC,CAAC;EAC3C,MAAMU,eAAe,GAAGvB,MAAM,CAAiB,IAAK,CAAC;EAErD,IAAK,CAAEkB,KAAK,EAAG;IACd,OAAO,IAAI;EACZ;EAEA,MAAMM,aAAa,GAAGA,CAAA,KAAM;IAC3BH,cAAc,CAAE,KAAM,CAAC;;IAEvB;IACA;IACAI,UAAU,CAAE,MAAM;MACjBF,eAAe,CAACG,OAAO,EAAEC,KAAK,CAAC,CAAC;IACjC,CAAC,EAAEb,kBAAmB,CAAC;EACxB,CAAC;EAED,MAAMc,WAAW,GAAI,qCAAqCN,IAAM,EAAC;EACjE;EACA,MAAMO,iBAAiB,GAAG1B,OAAO,CAAED,EAAE,CAAE,cAAe,CAAC,EAAEgB,KAAM,CAAC;EAEhE,OACCY,aAAA,CAAClB,WAAW;IAACmB,SAAS,EAAC;EAAmC,GACvD,CAAEX,WAAW,IACdU,aAAA,CAACpB,YAAY;IACZsB,EAAE,EAAC,IAAI;IACPD,SAAS,EAAC,2CAA2C;IACrDE,KAAK,EAAG;EAAG,GAEXH,aAAA;IAAMI,EAAE,EAAGN;EAAa,GAAGV,KAAa,CAAC,EAEvC,CAAEF,SAAS,IAAIG,WAAW,KAC3BW,aAAA,CAACnB,kBAAkB,QAChBQ,WAAW,EAEXH,SAAS,IACVc,aAAA,CAACtB,MAAM;IACN2B,OAAO;IACPC,OAAO,EAAC,UAAU;IAClBC,KAAK,EAAGR,iBAAmB;IAC3BS,OAAO,EAAGA,CAAA,KAAMjB,cAAc,CAAE,IAAK,CAAG;IACxCkB,GAAG,EAAGhB;EAAiB,GAEvBO,aAAA,CAAC1B,IAAI;IAACoC,IAAI,EAAGlC;EAAY,CAAE,CACpB,CAEU,CAER,CACd,EAECc,WAAW,IACZU,aAAA;IACCC,SAAS,EAAGxB,mBAAmB,CAAE;MAChCkC,IAAI,EAAE,UAAU;MAChBC,MAAM,EAAE;IACT,CAAE;EAAG,GAELZ,aAAA,CAACrB,eAAe;IACfe,aAAa,EAAGA,aAAe;IAC/BP,QAAQ,EAAGA,QAAU;IACrBZ,MAAM,EAAGA,MAAQ;IACjBa,KAAK,EAAGA;EAAO,CACf,CACG,CAEM,CAAC;AAEhB"}