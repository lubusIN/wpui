{"version":3,"names":["previousMessage","filterMessage","message","replace"],"sources":["@wordpress/a11y/src/filter-message.js"],"sourcesContent":["let previousMessage = '';\n\n/**\n * Filter the message to be announced to the screenreader.\n *\n * @param {string} message The message to be announced.\n *\n * @return {string} The filtered message.\n */\nexport default function filterMessage( message ) {\n\t/*\n\t * Strip HTML tags (if any) from the message string. Ideally, messages should\n\t * be simple strings, carefully crafted for specific use with A11ySpeak.\n\t * When re-using already existing strings this will ensure simple HTML to be\n\t * stripped out and replaced with a space. Browsers will collapse multiple\n\t * spaces natively.\n\t */\n\tmessage = message.replace( /<[^<>]+>/g, ' ' );\n\n\t/*\n\t * Safari + VoiceOver don't announce repeated, identical strings. We use\n\t * a `no-break space` to force them to think identical strings are different.\n\t */\n\tif ( previousMessage === message ) {\n\t\tmessage += '\\u00A0';\n\t}\n\n\tpreviousMessage = message;\n\n\treturn message;\n}\n"],"mappings":"AAAA,IAAIA,eAAe,GAAG,EAAE;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,aAAaA,CAAEC,OAAO,EAAG;EAChD;AACD;AACA;AACA;AACA;AACA;AACA;EACCA,OAAO,GAAGA,OAAO,CAACC,OAAO,CAAE,WAAW,EAAE,GAAI,CAAC;;EAE7C;AACD;AACA;AACA;EACC,IAAKH,eAAe,KAAKE,OAAO,EAAG;IAClCA,OAAO,IAAI,QAAQ;EACpB;EAEAF,eAAe,GAAGE,OAAO;EAEzB,OAAOA,OAAO;AACf"}