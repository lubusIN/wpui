{"version":3,"names":["_element","require","_reactNative","_blur","_compose","_style","_interopRequireDefault","HIDE_TIMER","Notice","onNoticeHidden","content","id","status","width","useWindowDimensions","animationValue","useRef","Animated","Value","current","timer","useEffect","timing","toValue","duration","useNativeDriver","easing","Easing","out","quad","start","finished","setTimeout","onHide","clearTimeout","useCallback","noticeSolidStyles","usePreferredColorSchemeStyle","styles","noticeSolid","noticeSolidDark","successTextStyles","successText","successTextDark","errorTextStyles","errorText","errorTextDark","textStyles","containerStyles","notice","Platform","isIOS","transform","translateY","interpolate","inputRange","outputRange","createElement","Fragment","View","style","TouchableWithoutFeedback","onPress","noticeContent","Text","numberOfLines","BlurView","blurBackground","blurType","blurAmount","_default","exports","default"],"sources":["@wordpress/components/src/notice/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tAnimated,\n\tEasing,\n\tText,\n\tTouchableWithoutFeedback,\n\tView,\n\tuseWindowDimensions,\n} from 'react-native';\nimport { BlurView } from '@react-native-community/blur';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef, useCallback, Platform } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nconst HIDE_TIMER = 3000;\n\nconst Notice = ( { onNoticeHidden, content, id, status } ) => {\n\tconst { width } = useWindowDimensions();\n\tconst animationValue = useRef( new Animated.Value( 0 ) ).current;\n\tconst timer = useRef( null );\n\n\tuseEffect( () => {\n\t\t// start animation\n\t\tAnimated.timing( animationValue, {\n\t\t\ttoValue: 1,\n\t\t\tduration: 300,\n\t\t\tuseNativeDriver: true,\n\t\t\teasing: Easing.out( Easing.quad ),\n\t\t} ).start( ( { finished } ) => {\n\t\t\tif ( finished && onNoticeHidden ) {\n\t\t\t\ttimer.current = setTimeout( () => {\n\t\t\t\t\tonHide();\n\t\t\t\t}, HIDE_TIMER );\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tclearTimeout( timer?.current );\n\t\t};\n\t}, [ animationValue, onHide, onNoticeHidden ] );\n\n\tconst onHide = useCallback( () => {\n\t\tAnimated.timing( animationValue, {\n\t\t\ttoValue: 0,\n\t\t\tduration: 150,\n\t\t\tuseNativeDriver: true,\n\t\t\teasing: Easing.out( Easing.quad ),\n\t\t} ).start( ( { finished } ) => {\n\t\t\tif ( finished && onNoticeHidden ) {\n\t\t\t\tonNoticeHidden( id );\n\t\t\t}\n\t\t} );\n\t}, [ animationValue, onNoticeHidden, id ] );\n\n\tconst noticeSolidStyles = usePreferredColorSchemeStyle(\n\t\tstyles.noticeSolid,\n\t\tstyles.noticeSolidDark\n\t);\n\n\tconst successTextStyles = usePreferredColorSchemeStyle(\n\t\tstyles.successText,\n\t\tstyles.successTextDark\n\t);\n\n\tconst errorTextStyles = usePreferredColorSchemeStyle(\n\t\tstyles.errorText,\n\t\tstyles.errorTextDark\n\t);\n\n\tconst textStyles = [\n\t\tstatus === 'success' && successTextStyles,\n\t\tstatus === 'error' && errorTextStyles,\n\t];\n\n\tconst containerStyles = [\n\t\tstyles.notice,\n\t\t! Platform.isIOS && noticeSolidStyles,\n\t\t{\n\t\t\twidth,\n\t\t\ttransform: [\n\t\t\t\t{\n\t\t\t\t\ttranslateY: animationValue.interpolate( {\n\t\t\t\t\t\tinputRange: [ 0, 1 ],\n\t\t\t\t\t\toutputRange: [ -24, 0 ],\n\t\t\t\t\t} ),\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t];\n\n\treturn (\n\t\t<>\n\t\t\t<Animated.View style={ containerStyles }>\n\t\t\t\t<TouchableWithoutFeedback onPress={ onHide }>\n\t\t\t\t\t<View style={ styles.noticeContent }>\n\t\t\t\t\t\t<Text numberOfLines={ 3 } style={ textStyles }>\n\t\t\t\t\t\t\t{ content }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t</TouchableWithoutFeedback>\n\t\t\t\t{ Platform.isIOS && (\n\t\t\t\t\t<BlurView\n\t\t\t\t\t\tstyle={ styles.blurBackground }\n\t\t\t\t\t\tblurType=\"prominent\"\n\t\t\t\t\t\tblurAmount={ 10 }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Animated.View>\n\t\t</>\n\t);\n};\n\nexport default Notice;\n"],"mappings":"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"}